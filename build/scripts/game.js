!function e(t,i,n){function r(s,o){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return r(i?i:e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],2:[function(e,t,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(h===setTimeout)return setTimeout(e,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){m&&g&&(m=!1,g.length?p=g.concat(p):y=-1,p.length&&u())}function u(){if(!m){var e=a(o);m=!0;for(var t=p.length;t;){for(g=p,p=[];++y<t;)g&&g[y].run();y=-1,t=p.length}g=null,m=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var h,d,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(e){h=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var g,p=[],m=!1,y=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||m||a(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],3:[function(e,t,i){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],4:[function(e,t,i){(function(t,n){function r(e,t){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&i._extend(n,t),k(n.showHidden)&&(n.showHidden=!1),k(n.depth)&&(n.depth=2),k(n.colors)&&(n.colors=!1),k(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),u(n,e,n.depth)}function a(e,t){var i=r.styles[t];return i?"["+r.colors[i][0]+"m"+e+"["+r.colors[i][1]+"m":e}function s(e,t){return e}function o(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}function u(e,t,n){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==i.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return b(r)||(r=u(e,r,n)),r}var a=l(e,t);if(a)return a;var s=Object.keys(t),p=o(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),j(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(t);if(0===s.length){if(T(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(j(t))return c(t)}var y="",v=!1,w=["{","}"];if(g(t)&&(v=!0,w=["[","]"]),T(t)){var k=t.name?": "+t.name:"";y=" [Function"+k+"]"}if(S(t)&&(y=" "+RegExp.prototype.toString.call(t)),x(t)&&(y=" "+Date.prototype.toUTCString.call(t)),j(t)&&(y=" "+c(t)),0===s.length&&(!v||0==t.length))return w[0]+y+w[1];if(n<0)return S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var O;return O=v?h(e,t,n,p,s):s.map(function(i){return d(e,t,n,p,i,v)}),e.seen.pop(),f(O,y,w)}function l(e,t){if(k(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return v(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,i,n,r){for(var a=[],s=0,o=t.length;s<o;++s)M(t,String(s))?a.push(d(e,t,i,n,String(s),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(d(e,t,i,n,r,!0))}),a}function d(e,t,i,n,r,a){var s,o,l;if(l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},l.get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),M(n,r)||(s="["+r+"]"),o||(e.seen.indexOf(l.value)<0?(o=m(i)?u(e,l.value,null):u(e,l.value,i-1),o.indexOf("\n")>-1&&(o=a?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n"))):o=e.stylize("[Circular]","special")),k(s)){if(a&&r.match(/^\d+$/))return o;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+o}function f(e,t,i){var n=0,r=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}function g(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function k(e){return void 0===e}function S(e){return O(e)&&"[object RegExp]"===F(e)}function O(e){return"object"==typeof e&&null!==e}function x(e){return O(e)&&"[object Date]"===F(e)}function j(e){return O(e)&&("[object Error]"===F(e)||e instanceof Error)}function T(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function F(e){return Object.prototype.toString.call(e)}function _(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[_(e.getHours()),_(e.getMinutes()),_(e.getSeconds())].join(":");return[e.getDate(),A[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var E=/%[sdj%]/g;i.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(r(arguments[i]));return t.join(" ")}for(var i=1,n=arguments,a=n.length,s=String(e).replace(E,function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),o=n[i];i<a;o=n[++i])s+=m(o)||!O(o)?" "+o:" "+r(o);return s},i.deprecate=function(e,r){function a(){if(!s){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),s=!0}return e.apply(this,arguments)}if(k(n.process))return function(){return i.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return a};var z,H={};i.debuglog=function(e){if(k(z)&&(z=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!H[e])if(new RegExp("\\b"+e+"\\b","i").test(z)){var n=t.pid;H[e]=function(){var t=i.format.apply(i,arguments);console.error("%s %d: %s",e,n,t)}}else H[e]=function(){};return H[e]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=g,i.isBoolean=p,i.isNull=m,i.isNullOrUndefined=y,i.isNumber=v,i.isString=b,i.isSymbol=w,i.isUndefined=k,i.isRegExp=S,i.isObject=O,i.isDate=x,i.isError=j,i.isFunction=T,i.isPrimitive=P,i.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",C(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(e,t){if(!t||!O(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":3,_process:2,inherits:1}],5:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){n(this,e),this.obj=t,this.game=i,this.duration=3e3+this.game.rnd.between(0,2e3),this.verticalSpeed=35,this.swingDegree=20+this.game.rnd.between(0,20),this.delay=this.game.rnd.between(0,2e3)}return r(e,[{key:"animate",value:function(){var e=this.obj.x,t=this.obj.y,i=[e+this.getApproximateValue(this.swingDegree),e-2*this.getApproximateValue(this.swingDegree),e+2*this.getApproximateValue(this.swingDegree)],n=[t-this.verticalSpeed,t-2*this.verticalSpeed,t-3*this.verticalSpeed];this.heartTween=this.game.add.tween(this.obj).to({x:i,y:n,alpha:[1,.8,.2]},this.duration,Phaser.Easing.Cubic.Out,!0,this.delay).loop(),this.game.add.tween(this.obj.scale).to({x:.1,y:.1},this.duration,Phaser.Easing.Linear.In,!0,this.delay).loop(),this.heartTween.interpolation(function(e,t){return Phaser.Math.bezierInterpolation(e,t)})}},{key:"getApproximateValue",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?10:arguments[1],i=this.game.rnd.normal()>0?1:-1;return e+i*this.game.rnd.between(0,t)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,i=s,n=!0,o=l=void 0}},o=e("states/Preload"),u=n(o),l=e("states/MainMenu"),c=n(l),h=e("states/Credits"),d=n(h),f=e("states/HighScores"),g=n(f),p=e("states/Main"),m=n(p),y=e("./settings"),v=n(y),b=function(e){function t(){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,v["default"].canvasWidth,v["default"].canvasHeight,Phaser.AUTO),this.Settings=v["default"],this.state.add("Preload",u["default"],!1),this.state.add("MainMenu",c["default"],!1),this.state.add("Credits",d["default"],!1),this.state.add("HighScores",g["default"],!1),this.state.add("Main",m["default"],!1),this.state.start("Preload")}return a(t,e),t}(Phaser.Game);new b},{"./settings":19,"states/Credits":20,"states/HighScores":21,"states/Main":22,"states/MainMenu":23,"states/Preload":24}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("objects/SplashText"),o=n(s),u=function(){function e(t){return r(this,e),this.game=t,this.splash=new o["default"](this.game),this.completed=[],this.uncompleted=this.getAchievements(),this}return a(e,[{key:"getAchievements",value:function(){return[{text:"10 coins collected !",check:function(){return this.coinsCollected>9}},{text:"20 coins collected !",check:function(){return this.coinsCollected>19}},{text:"50 coins collected !",check:function(){return this.coinsCollected>49}},{text:"5 bunnies eliminated !",check:function(){return this.bunniesKilled>4}},{text:"10 bunnies eliminated !",check:function(){return this.bunniesKilled>9}},{text:"10000 points reached !",check:function(){return this.calculateScore()>9999}},{text:"You have travelled 5000px !",check:function(){return this.ground.distanceTravelled()>4999}}]}},{key:"check",value:function(e){_.each(this.uncompleted,_.bind(function(t,i){var n=_.bind(t.check,e);if(n()){this.splash.write(t.text);var r=this.uncompleted.splice(i,1);return this.completed.push(r),!1}},this))}}]),e}();i["default"]=u,t.exports=i["default"]},{"objects/SplashText":17}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){return n(this,e),this.game=t,this.mountainSpeed=.2,this.bgHillSpeed=.4,this.hillsSpeed=.6,this.game.stage.backgroundColor="#ccf2ff",this.bg=this.game.add.tileSprite(0,0,this.game.width,this.game.height,"background"),this.mountains=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-mountains").height-64,this.game.width,this.game.world.height,"background-mountains"),this.bgHills=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-back-hills").height+30,this.game.width,this.game.world.height,"background-back-hills"),this.hills=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("background-hills").height+30,this.game.width,this.game.world.height,"background-hills"),this.clouds=this.game.add.group(),this.clouds.enableBody=!0,this.clouds.createMultiple(2,"cloud-1"),this.clouds.createMultiple(2,"cloud-2"),this.clouds.createMultiple(2,"cloud-1"),this.clouds.createMultiple(2,"cloud-2"),this.initializeClouds(),this.timer=t.time.events.loop(this.game.Settings.timers.cloudSpawn,this.createCloud,this),this}return r(e,[{key:"initializeClouds",value:function(){for(var e=0;e<3;e++)this.createCloud(this.game.rnd.between(0,this.game.width))}},{key:"createCloud",value:function(e){var t=this.clouds.getFirstDead();if(t){var i="undefined"==typeof e?this.game.width:e,n=this.game.rnd.between(20,100);t.reset(i,n),t.body.velocity.x=this.game.rnd.between(-30,-100),t.body.allowGravity=!1,t.checkWorldBounds=!0,t.outOfBoundsKill=!0}}},{key:"update",value:function(){this.mountains.tilePosition.x-=this.mountainSpeed,this.bgHills.tilePosition.x-=this.bgHillSpeed,this.hills.tilePosition.x-=this.hillsSpeed}}]),e}();i["default"]=a,t.exports=i["default"]},{}],9:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){return n(this,e),this.game=t,this.platform=i,this.enableSpawning=!0,this.platformMap={},this.coins=this.game.add.group(),this.coins.enableBody=!0,this.coins.createMultiple(20,"coin"),this.timer=t.time.events.loop(this.game.Settings.timers.coinSpawn,this.addCoin,this),this}return r(e,[{key:"getObject",value:function(){return this.coins}},{key:"disableSpawning",value:function(){this.enableSpawning=!1}},{key:"removeCoin",value:function(e){this.platformMap[e.platformId]=!1,e.kill()}},{key:"addToPlatformMap",value:function(e){this.platformMap[e]=!0}},{key:"setCoinPosition",value:function(e){var t=this.platform.getOnScreenPlatforms(),i=this.game.rnd.between(0,this.game.width),n=this.game.height-this.game.Settings.sizes.groundHeight-40;if(t.length){var r=_.sampleSize(t)[0];this.platformMap[r.id]||(this.addToPlatformMap(r.id),e.platformId=r.id,i=r.x+r.width/2-10,n=r.y-40)}e.reset(i,n)}},{key:"addCoin",value:function(){if(this.enableSpawning){var e=this.coins.getFirstDead();e&&(this.setCoinPosition(e),e.animations.add("spin",[0,1,2,3,4,5,6,7],10,!0),e.animations.play("spin"),e.body.immovable=!0,e.body.allowGravity=!1,e.body.checkCollision=!1,e.body.velocity.x=-this.game.Settings.physics.platformSpeed,e.checkWorldBounds=!0,e.outOfBoundsKill=!0)}}},{key:"update",value:function(){}}]),e}();i["default"]=a,t.exports=i["default"]},{}],10:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){return n(this,e),this.game=t,this.enemies=this.game.add.group(),this.enemies.enableBody=!0,this.enemies.createMultiple(10,"bunny"),this.timer=t.time.events.loop(this.game.Settings.timers.enemySpawn,this.addBunny,this),this}return r(e,[{key:"getObject",value:function(){return this.enemies}},{key:"addBunny",value:function(){var e=this.enemies.getFirstDead();if(e){var t=this.game.width,i=this.game.world.height-this.game.rnd.between(2,6)*this.game.Settings.sizes.groundHeight;e.reset(t,i),e.animations.add("fly",[0,1,2,3,4],10,!0),e.animations.play("fly"),e.body.immovable=!0,e.body.allowGravity=!1,e.body.velocity.x=-this.game.rnd.between(1,4)*this.game.Settings.physics.platformSpeed-35;var n=this.game.cache.getImage("bunny");e.body.setSize(25,n.height-8,3,4),e.checkWorldBounds=!0,e.outOfBoundsKill=!0}}},{key:"update",value:function(){}}]),e}();i["default"]=a,t.exports=i["default"]},{}],11:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){return n(this,e),this.game=t,this.tileSize=this.game.Settings.sizes.groundHeight,this.ground=this.game.add.group(),this.ground.enableBody=!0,this.ground.createMultiple(16,"ground"),this.lastAddedTile=null,this.createFullGround(),this.tileCount=0,this}return r(e,[{key:"getObject",value:function(){return this.ground}},{key:"createFullGround",value:function(){for(var e=0;e<this.game.width;e+=this.tileSize)this.addTile(e)}},{key:"addTile",value:function(e){var t=this.ground.getFirstDead();if(t){var i="undefined"==typeof e?this.game.width-2:e,n=this.game.world.height-this.tileSize;t.reset(i,n),t.body.immovable=!0,t.body.allowGravity=!1,t.body.velocity.x=-this.game.Settings.physics.platformSpeed,t.checkWorldBounds=!0,t.outOfBoundsKill=!0,this.lastAddedTile=t}}},{key:"distanceTravelled",value:function(){return this.tileCount*this.tileSize}},{key:"update",value:function(){this.lastAddedTile.x+this.tileSize<this.game.width&&(this.addTile(),this.tileCount++)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],12:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t,i){return n(this,e),this.game=i,this.options=t,this.drawnTexts=[],this.options.items.forEach(function(e,t){e.isActive=!1}),this.options.items[0].isActive=!0,this.registerKeyhandler(),this.drawMenu(),this}return r(e,[{key:"drawMenu",value:function(){var e=250;if(this.drawnTexts.forEach(function(e,t){e.destroy()},this),this.options.title){var t=e-40,i=this.game.add.text(this.game.width/2,t,this.options.title);i.anchor.set(.5),i.align="center",i.font="arcade",i.fontSize=25,i.fill="#FFFFFF",i.strokeThickness=0,this.drawnTexts.push(i)}this.options.items.forEach(function(t,i){var n=e+40*i,r=this.game.add.text(this.game.width/2,n,t.label);r.anchor.set(.5),r.align="center",r.font="arcade",r.fontSize=50,r.fill="#FFFFFF",r.stroke="#504c39",r.strokeThickness=t.isActive?6:0,this.drawnTexts.push(r)},this)}},{key:"getNextIndex",value:function(){var e=this.getActiveIndex();return e==this.options.items.length-1?0:e+1}},{key:"getPrevIndex",value:function(){var e=this.getActiveIndex();return 0==e?this.options.items.length-1:e-1}},{key:"getActiveIndex",value:function(){return _.findIndex(this.options.items,{isActive:!0})}},{key:"getActiveMenu",value:function(){var e=this.getActiveIndex();return _.isUndefined(this.options.items[e])?void 0:this.options.items[e]}},{key:"moveCursor",value:function(e){var t=this.getActiveIndex();_.isUndefined(this.options.items[t])||_.isUndefined(this.options.items[e])||(this.options.items[t].isActive=!1,this.options.items[e].isActive=!0)}},{key:"registerKeyhandler",value:function(){this.game.input.keyboard.onUpCallback=_.bind(function(e){if(e.keyCode==Phaser.Keyboard.UP&&(this.moveCursor(this.getPrevIndex()),this.drawMenu()),e.keyCode==Phaser.Keyboard.DOWN&&(this.moveCursor(this.getNextIndex()),this.drawMenu()),e.keyCode==Phaser.Keyboard.ENTER){var t=this.getActiveMenu();t&&t.callback()}},this)}},{key:"destroy",value:function(){this.game.input.keyboard.reset(),this.drawnTexts.forEach(function(e,t){e.destroy()})}}]),e}();i["default"]=a,t.exports=i["default"]},{}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){n(this,e),this.game=t,this.groundHeight=this.game.Settings.sizes.groundHeight,this.lastFloor=0,this.floorHeight=95,this.playerWasOnThePlatforms=!1,this.playerFallDownToGround=!1,this.platforms=this.game.add.group(),this.platforms.enableBody=!0;for(var i=0;i<25;i++){var r="platform-"+this.game.rnd.between(1,3),a=this.platforms.create(0,0,r,void 0,!1);a.body.immovable=!0,a.body.allowGravity=!1}return this.timer=t.time.events.loop(this.game.Settings.timers.platformSpawn,this.addPlatform,this),this}return r(e,[{key:"getObject",value:function(){return this.platforms}},{key:"getOnScreenPlatforms",value:function(){var e=[];return this.platforms.forEachAlive(function(t){e.push({x:t.x,y:t.y,id:t.id,width:t.width,height:t.height})}),e}},{key:"addPlatform",value:function(e,t){var i=this.platforms.getFirstDead();if(i){var n="undefined"!=typeof e;this.lastFloor=n?e:this.getNextFloor();var r="undefined"==typeof t?this.game.width:t,a=this.game.world.height-this.groundHeight-this.lastFloor*this.floorHeight;i.reset(r,a),i.body.velocity.x=-this.game.Settings.physics.platformSpeed,i.checkWorldBounds=!0,i.outOfBoundsKill=!0,i.id=_.uniqueId("platform-")}}},{key:"getNextFloor",value:function(){return this.playerFallDownToGround&&this.lastFloor>1?(this.resetPlayerState(),1):0==this.lastFloor?1:1==this.lastFloor?Math.random()>.3?2:1:2==this.lastFloor?Math.random()>.5?2:3:this.game.rnd.between(1,3)}},{key:"resetPlayerState",value:function(){this.playerWasOnThePlatforms=!1,this.playerFallDownToGround=!1}},{key:"update",value:function(e,t){this.playerWasOnThePlatforms===!1&&e&&(this.playerWasOnThePlatforms=!0),this.playerWasOnThePlatforms&&t&&(this.playerFallDownToGround=!0)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],14:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){n(this,e),this.game=t;var i="groomSprite";this.isWoman()&&(i="brideSprite"),this.character=this.game.add.sprite(this.game.width/2,this.game.height-150,i),this.game.physics.arcade.enable(this.character),this.character.body.bounce.y=this.game.Settings.physics.playerBounce,this.character.body.gravity.y=this.game.Settings.physics.playerGravity,this.character.body.collideWorldBounds=!0;var r=this.game.cache.getImage(i);return this.character.body.setSize(25,r.height-5,4,5),this.character.animations.add("left",[0,1,2,3],10,!0),this.character.animations.add("right",[5,6,7,8],10,!0),this.sounds={jump:this.game.add.audio("jump",this.game.Settings.effectVolume),damage:this.game.add.audio(this.isWoman()?"damage-woman":"damage-man",this.game.Settings.effectVolume),coin:this.game.add.audio("coin",this.game.Settings.effectVolume)},this}return r(e,[{key:"getObject",value:function(){return this.character}},{key:"isMale",value:function(){return"bride"!=this.game.Settings.characterType}},{key:"isWoman",value:function(){return!this.isMale()}},{key:"collectBounty",value:function(e,t,i){this.sounds.coin.play();var n=i*this.game.Settings.score.enemy;this.scorePoints(e,t,n)}},{key:"collectCoin",value:function(e,t){this.sounds.coin.play(),this.scorePoints(e,t,this.game.Settings.score.coin)}},{key:"scorePoints",value:function(e,t,i){var n=this.game.add.text(e,t,"+"+i);n.anchor.set(.5),n.align="center",n.font="arcade",n.fontSize=25,n.fill="#FFFFFF",n.stroke="#504c39",n.strokeThickness=2;var r=this.game.add.tween(n);r.to({y:t-60},500,"Linear",!0),r.onComplete.add(function(){n.destroy()},this)}},{key:"die",value:function(){this.sounds.damage.play(),this.character.animations.stop(),this.character.frame=4}},{key:"update",value:function(e){var t=this.game.input.keyboard.createCursorKeys();this.character.body.velocity.x=this.game.Settings.physics.playerStandingSpeed,this.character.body.gravity.y=this.game.Settings.physics.playerGravity,t.left.isDown?(this.character.body.velocity.x=-this.game.Settings.physics.playerRunningBackwardSpeed,this.character.animations.play("left")):t.right.isDown?(this.character.body.velocity.x=this.game.Settings.physics.playerRunningForwardSpeed+this.game.Settings.physics.platformSpeed,this.character.animations.play("right")):(this.character.animations.stop(),this.character.frame=4),t.down.isDown&&(this.character.body.gravity.y=this.game.Settings.physics.playerGravity+this.game.Settings.physics.extraGravity),t.up.isDown&&this.character.body.touching.down&&e&&(this.sounds.jump.play(),this.character.body.velocity.y=-this.game.Settings.physics.playerJumpVelocity)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],15:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){return n(this,e),this.game=t,this.digitNumber=7,this.topOffset=20,this.rightOffset=20,this.characterWidth=13,this.label=this.game.add.text(this.game.width-this.characterWidth*this.digitNumber-this.rightOffset-70,this.topOffset,"Score"),this.label.font="arcade",this.label.fontSize=24,this.label.fill="#777d90",this.score=this.game.add.text(this.game.width-this.characterWidth*this.digitNumber-this.rightOffset,this.topOffset,"0"),this.score.font="arcade",this.score.fontSize=24,this.score.fill="#343537",this.setScore(5),this}return r(e,[{key:"setScore",value:function(e){var t=""+Math.pow(10,this.digitNumber),i=(t+e).substr(-this.digitNumber);this.score.setText(i)}},{key:"update",value:function(e){this.setScore(e)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],16:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){n(this,e),this.game=t;var i=this.game.sound.mute?1:0;return this.button=this.game.add.button(20,20,"sound-control",this.actionOnClick,this,i,i,i),this}return r(e,[{key:"actionOnClick",value:function(){this.game.sound.mute?this.unMute():this.mute()}},{key:"mute",value:function(){this.game.sound.mute=!0,this.button.setFrames(1,1,1)}},{key:"unMute",value:function(){this.game.sound.mute=!1,this.button.setFrames(0,0,0)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],17:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){return n(this,e),this.game=t,this.timeOut=2e3,this.timer=void 0,this.splashText=void 0,this}return r(e,[{key:"write",value:function(e){this.splashText=this.game.add.text(this.game.width/2,100,e),this.splashText.anchor.set(.5),this.splashText.align="center",this.splashText.font="arcade",this.splashText.fontSize=30,this.splashText.fill="#FFFFFF",this.splashText.stroke="#0b77a5",this.splashText.strokeThickness=6,this.splashText.alpha=0,this.game.add.tween(this.splashText).to({alpha:1},500,"Linear",!0),this.game.add.tween(this.splashText).to({fontSize:50},500,"Linear",!0),this.timer=this.game.time.events.loop(this.timeOut,this.destroySplashText,this)}},{key:"destroySplashText",value:function(){this.splashText.destroy(),this.game.time.events.remove(this.timer)}}]),e}();i["default"]=a,t.exports=i["default"]},{}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./../settings"),o=n(s),u=function(){
function e(){r(this,e)}return a(e,[{key:"saveScore",value:function(e,t){_.isEmpty(e)||$.ajax({url:o["default"].urls.saveScore,type:"post",dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){console.log("data was saved")},data:JSON.stringify({playerName:e,score:t})})}},{key:"getTop10",value:function(e){return console.log(o["default"].urls.getTop10),console.log($.get(o["default"].urls.getTop10)),console.log("top list"),$.get(o["default"].urls.getTop10,e)}}]),e}();i["default"]=new u,t.exports=i["default"]},{"./../settings":19}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={canvasWidth:800,canvasHeight:512,characterType:"groom",musicVolume:.25,effectVolume:.4,sizes:{groundHeight:64},score:{pixel:1,coin:100,enemy:.8},timers:{coinSpawn:2e3,platformSpawn:3e3,enemySpawn:2e3,cloudSpawn:4e3,mainLoop:900},physics:{worldGravity:300,platformSpeed:80,playerGravity:400,extraGravity:600,playerJumpVelocity:400,playerRunningForwardSpeed:120,playerRunningBackwardSpeed:200,playerStandingSpeed:0,playerBounce:.2},urls:{getTop10:"/highscore",saveScore:"/highscore"},playerName:""},t.exports=i["default"]},{}],20:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,i=s,n=!0,o=l=void 0}},o=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),a(t,[{key:"create",value:function(){this.game.stage.backgroundColor="#8e8869",this.scrollSpeed=1,this.separatorHeight=80,this.lineHeight=25,this.titleTextSize=28,this.nameTextSize=35,this.textStackHeight=this.game.height,this.credits=[],this.addTitle(),this.addCredits(),this.registerKeyhandler()}},{key:"update",value:function(){_.each(this.credits,_.bind(function(e,t){e.y-=this.scrollSpeed,e.y<-100&&e.destroy()},this)),this.credits[this.credits.length-1].y<-50&&this.game.state.start("MainMenu")}},{key:"addTitle",value:function(){var e=this.game.add.text(this.game.width/2,this.textStackHeight,"Credits");e.anchor.set(.5),e.align="center",e.font="arcade",e.fontSize=60,e.fill="#FFFFFF",e.stroke="#504c39",e.strokeThickness=6,this.credits.push(e),this.textStackHeight+=this.separatorHeight}},{key:"addCredits",value:function(){var e=this.getCredits();_.each(e,_.bind(function(e){var t=this.getStyledText(e.title,"title");this.credits.push(t),this.textStackHeight+=this.lineHeight;var i=this.getStyledText(e.value,"name");this.credits.push(i),this.textStackHeight+=this.separatorHeight},this))}},{key:"getStyledText",value:function(e,t){var i=this.game.add.text(this.game.width/2,this.textStackHeight,e);return i.anchor.set(.5),i.align="center",i.font="arcade",i.fontSize="title"==t?this.titleTextSize:this.nameTextSize,i.fill="title"==t?"#504c39":"#FFFFFF",i.stroke="title"==t?"#FFFFFF":"#504c39",i.strokeThickness="title"==t?0:5,i}},{key:"registerKeyhandler",value:function(){this.game.input.keyboard.onUpCallback=_.bind(function(e){e.keyCode!=Phaser.Keyboard.ESC&&e.keyCode!=Phaser.Keyboard.ENTER||this.game.state.start("MainMenu")},this)}},{key:"getCredits",value:function(){return[{title:"Lead Programmer",value:"Endre Andras"},{title:"Test Engineer",value:"Zsofia Andras-Simko"},{title:"Music by",value:"Hunor Sukosd"},{title:"Music supervisor",value:"Kinga Andras"},{title:"Level Design",value:"Endre Andras"},{title:"Character Design",value:"Endre Andras"},{title:"Sounds by",value:"Hunor Sukosd"},{title:"Game Engine",value:"Phaser"},{title:"Thanks to",value:"the Phaser community"},{title:"Thanks for the tutorials",value:"Josh Morony"},{title:"Background",value:"opengameart.org/users/greggman"},{title:"Platforms",value:"opengameart.org/users/buch"},{title:"Coins",value:"opengameart.org/users/irmirx"},{title:"Flying rabbit",value:"jpopkitty.deviantart.com"},{title:"Special thanks to",value:["Nyula","Picica"]}]}}]),t}(Phaser.State);i["default"]=o,t.exports=i["default"]},{}],21:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,i=s,n=!0,o=l=void 0}},u=e("services/ToplistService"),l=n(u),c=(e("util"),function(e){function t(){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),s(t,[{key:"create",value:function(){var e=this;this.game.stage.backgroundColor="#8e8869",this.createHeader(),this.loadingText=this.game.add.text(this.game.width/2,200,"loading..."),this.loadingText.anchor.set(.5),this.loadingText.font="arcade",this.loadingText.fontSize=40,this.loadingText.fill="#504c39",l["default"].getTop10(function(t){console.log(t),e.renderHighScores(t)})}},{key:"update",value:function(){this.game.input.keyboard.onUpCallback=_.bind(function(e){e.keyCode!=Phaser.Keyboard.ESC&&e.keyCode!=Phaser.Keyboard.ENTER||this.game.state.start("MainMenu")},this)}},{key:"createHeader",value:function(){var e=80,t=this.game.add.text(this.game.width/2,e,"High Scores - Top 10");t.anchor.set(.5),t.align="center",t.font="arcade",t.fontSize=60,t.fill="#FFFFFF",t.stroke="#504c39",t.strokeThickness=6}},{key:"renderHighScores",value:function(e){this.loadingText.destroy();var t=120,i=35;_.each(e,_.bind(function(e,n){var r=n+1+".  "+e.playerName+"\t\t"+e.score,a=this.game.add.text(130,t+i*n,r);a.align="left",a.font="arcade",a.fontSize=40,a.fill="#504c39",a.tabs=400},this))}}]),t}(Phaser.State));i["default"]=c,t.exports=i["default"]},{"services/ToplistService":18,util:4}],22:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,i=s,n=!0,o=l=void 0}},u=e("objects/Player"),l=n(u),c=e("objects/Platform"),h=n(c),d=e("objects/Ground"),f=n(d),g=e("objects/Background"),p=n(g),m=e("objects/Score"),y=n(m),v=e("objects/Coins"),b=n(v),w=e("objects/Enemy"),k=n(w),S=e("objects/SoundControl"),O=n(S),x=e("objects/Achievements"),j=n(x),T=e("services/ToplistService"),P=n(T),F=function(e){function t(){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),s(t,[{key:"create",value:function(e,t){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.physics.arcade.gravity.y=this.game.Settings.physics.worldGravity,this.game.world.setBounds(0,0,this.game.Settings.canvasWidth,this.game.Settings.canvasHeight),this.coinsCollected=0,this.bunniesKilled=0,this.bountyPoints=0,this.isGameOver=!1,this.background=new p["default"](this.game),this.score=new y["default"](this.game),this.ground=new f["default"](this.game),this.platform=new h["default"](this.game),this.player=new l["default"](this.game),this.coins=new b["default"](this.game,this.platform),this.enemies=new k["default"](this.game),this.achievements=new j["default"](this.game),this.registerKeyhandler();var i=this.player.getObject();i.body.onWorldBounds=new Phaser.Signal,i.body.onWorldBounds.add(this.hitWorldBounds,this),this.soundControl=new O["default"](this.game),this.inGameMusic=this.game.add.audio("ingame",this.game.Settings.musicVolume,!0),this.gameOverMusic=this.game.add.audio("game-over",this.game.Settings.musicVolume,!1),this.inGameMusic.play(),this.timer=this.game.time.events.loop(this.game.Settings.timers.mainLoop,this.mainLoop,this)}},{key:"registerKeyhandler",value:function(){this.game.input.keyboard.onUpCallback=_.bind(function(e){e.keyCode==Phaser.Keyboard.ESC&&this.game.state.start("MainMenu"),e.keyCode==Phaser.Keyboard.ENTER&&this.isGameOver&&this.game.state.start("Main")},this)}},{key:"hitWorldBounds",value:function(){this.gameOver()}},{key:"gameOver",value:function(){this.game.physics.arcade.isPaused=!0,this.isGameOver=!0,this.player.die(),this.inGameMusic.destroy(),this.gameOverMusic.play(),this.showGameOver(),P["default"].saveScore(this.game.Settings.playerName,this.calculateScore())}},{key:"showGameOver",value:function(){var e=this.game.add.text(this.game.width/2,100,"GAME OVER");e.anchor.set(.5),e.align="center",e.font="arcade",e.fontSize=100,e.fill="#333023",e.stroke="#FFFFFF",e.strokeThickness=6;var t=this.game.add.text(this.game.width/2,200,"Ups... no pudiste llevarme al altar,");t.anchor.set(.5),t.align="center",t.font="arcade",t.fontSize=40,t.fill="#0b77a5",t.stroke="#FFFFFF",t.strokeThickness=2;var t=this.game.add.text(this.game.width/2,220,"pero aun puedes ayudar");t.anchor.set(.5),t.align="center",t.font="arcade",t.fontSize=40,t.fill="#0b77a5",t.stroke="#FFFFFF",t.strokeThickness=2;var t=this.game.add.text(this.game.width/2,280,"Colectivo - Abitab Nº114015");t.anchor.set(.5),t.align="center",t.font="arcade",t.fontSize=60,t.fill="#FF0000",t.stroke="#FFFFFF",t.strokeThickness=2;var t=this.game.add.text(this.game.width/2,400,"ENTER - Jugar de nuevo\n ESC - Ir al menu principal");t.anchor.set(.5),t.align="center",t.font="arcade",t.fontSize=30,t.fill="#0b77a5",t.stroke="#FFFFFF",t.strokeThickness=2}},{key:"update",value:function(){if(this.isGameOver)this.coins.disableSpawning();else{var e=this.game.physics.arcade.collide(this.player.getObject(),this.platform.getObject()),t=this.game.physics.arcade.collide(this.player.getObject(),this.ground.getObject()),i=e||t;this.player.update(i),this.platform.update(e,t),this.ground.update(),this.coins.update(),this.background.update(),this.enemies.update(),this.score.update(this.calculateScore()),this.game.physics.arcade.collide(this.player.getObject(),this.coins.getObject(),this.collectCoin,_.noop,this),this.game.physics.arcade.collide(this.player.getObject(),this.enemies.getObject(),this.hitEnemyLines,_.noop,this)}}},{key:"calculateScore",value:function(){return this.coinsCollected*this.game.Settings.score.coin+this.ground.distanceTravelled()*this.game.Settings.score.pixel+this.bountyPoints}},{key:"hitEnemyLines",value:function(e,t){if(e.body.touching.down&&t.body.touching.up){var i=t.x,n=t.y,r=Math.abs(t.body.velocity.x);t.kill(),this.player.collectBounty(i,n,r),this.bunniesKilled++,this.bountyPoints+=r}else this.gameOver()}},{key:"collectCoin",value:function(e,t){this.player.collectCoin(t.x,t.y),this.coins.removeCoin(t),this.coinsCollected++}},{key:"mainLoop",value:function(){this.achievements.check(this)}},{key:"shutdown",value:function(){this.inGameMusic.destroy()}}]),t}(Phaser.State);i["default"]=F,t.exports=i["default"]},{"objects/Achievements":7,"objects/Background":8,"objects/Coins":9,"objects/Enemy":10,"objects/Ground":11,"objects/Platform":13,"objects/Player":14,"objects/Score":15,"objects/SoundControl":16,"services/ToplistService":18}],23:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,i=s,n=!0,o=l=void 0}},u=e("animations/PoppingHeart"),l=n(u),c=e("objects/Menu"),h=n(c),d=e("objects/SoundControl"),f=n(d),g=function(e){function t(){r(this,t),o(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),s(t,[{key:"create",value:function(){this.game.stage.backgroundColor="#aaae9e",this.game.renderer.renderSession.roundPixels=!0,this.createHeader(),this.createFooter();var e={title:"Ayuda a Yhubert y Mariana a llegar al altar",items:[{label:"Jugar",callback:_.bind(this.choosePlayer,this)},{label:"High scores",callback:_.bind(this.showHighScores,this)},{label:"Creditos",callback:_.bind(this.showCredits,this)}]};this.mainMenu=new h["default"](e,this.game),this.playerMenu=null,this.soundControl=new f["default"](this.game),this.music=this.game.add.audio("menu",this.game.Settings.musicVolume,!0),this.music.play()}},{key:"choosePlayer",value:function(){this.mainMenu.destroy();var e={title:"- elige el jugador -",items:[{label:"Yhubert",callback:_.bind(function(){this.game.Settings.characterType="groom",this.chooseName()},this)},{label:"Mariana",callback:_.bind(function(){this.game.Settings.characterType="bride",this.chooseName()},this)}]};this.playerMenu=new h["default"](e,this.game)}},{key:"chooseName",value:function(){this.playerMenu.destroy();var e=200,t=this.game.add.inputField(this.game.width/2-e/2,250,{font:"30px arcade",fill:"#212121",width:e,padding:10,borderWidth:3,borderColor:"#0b77a5",borderRadius:4,placeHolder:"Escribe tu nombre"});t.setText(this.game.Settings.playerName),t.startFocus();var i=this.game.add.text(this.game.width/2,230,"- Escribe tu nombre y presiona ENTER -");i.anchor.set(.5),i.align="center",i.font="arcade",i.fontSize=25,i.fill="#FFFFFF";var n=this.game.add.text(this.game.width/2,340,"Esto es opcional");n.anchor.set(.5),n.align="center",n.font="arcade",n.fontSize=25,n.fill="#504c39",this.game.input.keyboard.onUpCallback=_.bind(function(e){e.keyCode==Phaser.Keyboard.ENTER&&(this.game.Settings.playerName=t.value,this.startGame())},this)}},{key:"showCredits",value:function(){this.state.start("Credits")}},{key:"showHighScores",value:function(){this.state.start("HighScores")}},{key:"startGame",value:function(){this.state.start("Main")}},{key:"shutdown",value:function(){this.mainMenu.destroy(),this.music.destroy()}},{key:"createHeader",value:function(){var e=80,t=this.game.add.sprite(this.game.width/2-150,e+5,"heart"),i=(new l["default"](t,this.game).animate(),this.game.add.sprite(this.game.width/2+110,e+5,"heart")),n=(new l["default"](i,this.game).animate(),this.game.add.image(this.game.width/2-170,e-35,"brideLarge"),this.game.add.image(this.game.width/2+100,e-35,"groomLarge"),this.game.add.text(this.game.width/2,e,"NOS"));n.anchor.set(.5),n.align="center",n.font="arcade",n.fontSize=120,n.fill="#f0d6d0";var n=this.game.add.text(this.game.width/2-1,e+56,"CASAMOS");n.anchor.set(.5),n.align="center",n.font="arcade",n.fontSize=55,n.fill="#f0d6d0"}},{key:"createFooter",value:function(){var e="12-03-2021",t="copyright © 2021 - ciribar - Music by Hunor Sukosd",i=80,n=this.game.add.graphics(0,0);n.beginFill(7696243),n.lineStyle(2,7696243,1),n.drawRect(0,this.game.world.height-i,this.game.width,i),n.endFill();var r=this.game.add.text(this.game.width/2,this.game.world.height-i+30,e);r.anchor.set(.5),r.align="center",r.font="arcade",r.fontSize=20,r.fill="#FFFFFF",r.strokeThickness=0;var a=this.game.add.text(this.game.width/2,this.game.world.height-i+50,t);a.anchor.set(.5),a.align="center",a.font="arcade",a.fontSize=20,a.fill="#FFFFFF",a.strokeThickness=0}}]),t}(Phaser.State);i["default"]=g,t.exports=i["default"]},{"animations/PoppingHeart":5,"objects/Menu":12,"objects/SoundControl":16}],24:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var l=Object.getPrototypeOf(r);if(null===l)return;e=l,t=a,i=s,n=!0,o=l=void 0}},o=function(e){function t(){n(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return r(t,e),a(t,[{key:"preload",value:function(){this.game.load.image("brideLarge","assets/images/bride_large.png"),this.game.load.image("groomLarge","assets/images/groom_large.png"),this.game.load.image("heart","assets/images/heart.png"),this.game.load.spritesheet("sound-control","assets/images/sound-control.png",48,40),this.game.load.audio("ingame",["assets/sounds/ingame.mp3"]),this.game.load.audio("menu",["assets/sounds/menu.mp3"]),this.game.load.audio("game-over",["assets/sounds/game-over.mp3"]),this.game.load.audio("coin",["assets/sounds/coin.mp3"]),this.game.load.audio("jump",["assets/sounds/jump.mp3"]),this.game.load.audio("damage-man",["assets/sounds/damage-man.mp3"]),this.game.load.audio("damage-woman",["assets/sounds/damage-woman.mp3"]),this.game.load.image("background","assets/images/bg.png"),this.game.load.image("background-mountains","assets/images/mountains.png"),this.game.load.image("background-hills","assets/images/hills.png"),this.game.load.image("background-back-hills","assets/images/back-hills.png"),this.game.load.image("cloud-1","assets/images/cloud-1.png"),this.game.load.image("cloud-2","assets/images/cloud-2.png"),this.game.load.image("ground","assets/images/ground.png"),this.game.load.image("platform-1","assets/images/platform-1.png"),this.game.load.image("platform-2","assets/images/platform-2.png"),this.game.load.image("platform-3","assets/images/platform-3.png"),this.game.load.spritesheet("groomSprite","assets/images/groom.png",32,48),this.game.load.spritesheet("brideSprite","assets/images/bride.png",32,48),this.game.load.spritesheet("coin","assets/images/coin.png",30,30),this.game.load.spritesheet("bunny","assets/images/bunny.png",32,30)}},{key:"create",value:function(){this.game.plugins.add(PhaserInput.Plugin),this.game.state.start("MainMenu")}}]),t}(Phaser.State);i["default"]=o,t.exports=i["default"]},{}]},{},[6]);